# MSH 签到系统 - Cursor AI 规则

## 项目上下文文件
请始终参考以下文件来理解项目上下文：

1. **PROJECT-OVERVIEW.md** - 项目概述、技术栈、架构决策
2. **DESIGN-SYSTEM.json** - 编码规范、命名约定、UI模式
3. **CONTEXT-RULES.md** - AI行为指导、开发规范、质量要求
4. **cursorworkflow/WORKFLOW-STATE.md** - 当前任务状态、执行计划

## 外部记忆系统集成
请参考以下文件来使用智能记忆系统：

1. **simple-memory-system/progress.md** - 项目进度记录和智能学习
2. **simple-memory-system/cloud.md** - 记忆系统触发规则
3. **simple-memory-system/memory.json** - 用户偏好学习数据
4. **simple-memory-system/archive.md** - 历史归档记录

## 核心原则

### 代码生成
- 生成完整可运行的代码，禁止使用 TODO 或占位符
- 遵循 DESIGN-SYSTEM.json 中的命名规范和代码风格
- 所有异步操作必须包含 try-catch 错误处理
- 使用中文注释，详细说明功能

### 项目特性
- 这是一个基于 Firebase 的 PWA 签到管理系统
- 支持多小组管理，使用 UUID 系统
- 保持 Firebase SDK v8 兼容性
- 维护 PWA 功能完整性

### 文件操作
- 使用绝对路径 `/Users/benchen/MSH/` 作为根目录
- 优先在现有文件中扩展功能，避免创建过多新文件
- 重要修改前检查备份

### 工作流集成
- 在开始任务前，读取 WORKFLOW-STATE.md 了解当前状态
- 完成任务后，更新 WORKFLOW-STATE.md 记录进度
- 使用"读-解-行-更"循环进行自主工作

## 常用提示模板

### 开始新任务
```
启动自主工作流：目标[具体任务描述]，参考 PROJECT-OVERVIEW.md 中的架构决策，遵循 DESIGN-SYSTEM.json 中的编码规范。
```

### 代码修改
```
基于 DESIGN-SYSTEM.json，修改 [具体功能]，参考 [相关文件] 的现有模式，确保遵循 CONTEXT-RULES.md 中的开发规范。
```

### 问题解决
```
遇到问题：先读取 WORKFLOW-STATE.md 了解当前状态，然后参考 CONTEXT-RULES.md 中的错误处理原则，提供解决方案。
```

## 技术栈提醒
- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **后端**: Firebase Realtime Database v8
- **PWA**: Service Worker, Manifest
- **部署**: 静态文件服务器

## 质量要求
- 所有代码必须完整可运行
- 保持现有功能兼容性
- 遵循无障碍设计原则
- 考虑移动端和桌面端兼容性

## 安全考虑
- 使用现有的 CSRF 保护机制
- 验证所有用户输入
- 遵循 Firebase 安全规则
- 保护敏感数据

---

**版本**: 1.0  
**创建日期**: 2025-09-27  
**适用项目**: MSH 签到系统