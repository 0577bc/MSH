<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>个人页面 - MSH签到系统</title>
  <!-- 样式模块 -->
    <link rel="stylesheet" href="./src/styles/base.css">
    <link rel="stylesheet" href="./src/styles/components.css">
    <link rel="stylesheet" href="./src/styles/utils.css">
  <!-- 引入配置文件 -->
  <script src="./src/smart-config-loader.js"></script>
  <!-- 引入 Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>
  <main>
    <h1>个人页面</h1>
    
    <!-- 导航按钮 -->
    <section class="button-row">
      <button id="backToTrackingButton" type="button" aria-label="返回主日跟踪">返回主日跟踪</button>
      <button id="backToSummaryButton" type="button" aria-label="返回汇总页面">返回汇总页面</button>
      <button id="backToSigninButton" type="button" aria-label="返回签到页面">返回签到页面</button>
    </section>
    
    <!-- 个人信息 -->
    <section id="personalInfoSection" class="report-section">
      <h2>个人信息</h2>
      <div id="personalInfo" class="personal-info">
        <!-- 动态生成个人信息 -->
      </div>
    </section>
    
    <!-- 签到记录日历 -->
    <section id="attendanceCalendarSection" class="report-section">
      <h2>签到记录</h2>
      <div class="calendar-controls">
        <button id="prevMonthButton" type="button" aria-label="上一个月">‹ 上月</button>
        <span id="currentMonthDisplay" class="month-display">2025年1月</span>
        <button id="nextMonthButton" type="button" aria-label="下一个月">下月 ›</button>
      </div>
      <div id="attendanceCalendar" class="attendance-calendar">
        <!-- 动态生成日历 -->
      </div>
      <div class="calendar-legend">
        <div class="legend-item">
          <span class="legend-color present"></span>
          <span>已签到</span>
        </div>
        <div class="legend-item">
          <span class="legend-color absent"></span>
          <span>未签到</span>
        </div>
        <div class="legend-item">
          <span class="legend-color sunday"></span>
          <span>主日</span>
        </div>
        <div class="legend-item">
          <span class="legend-color today"></span>
          <span>今天</span>
        </div>
      </div>
    </section>
    
    <!-- 跟踪记录 -->
    <section id="trackingRecordsSection" class="report-section">
      <h2>跟踪记录</h2>
      <div id="trackingRecords" class="tracking-records">
        <!-- 动态生成跟踪记录 -->
      </div>
    </section>
  </main>
  
  <!-- 工具函数模块 -->
    <script src="./src/core/firebase-utils.js"></script>
    <script src="./src/core/time-utils.js"></script>
    <script src="./src/core/security-utils.js"></script>
    <script src="./src/data/uuid-manager.js"></script>
    <script src="./src/features/sunday-tracking-utils.js"></script>
    <script src="./src/data/sync-managers.js"></script>
  <script src="./src/navigation-utils.js"></script>
  <script src="./src/personal-page.js"></script>
</body>
</html>

